// This member is used to wait for events.
        static void Main(string[] args)
        {
            while(true)
            { 
                string watchLog = "System";
                EventLog myLog = new EventLog(watchLog);
                // set event handler
                myLog.EntryWritten += new EntryWrittenEventHandler(OnEntryWritten);
                myLog.EnableRaisingEvents = true;
            }
        }


        private static void OnEntryWritten(object source, EntryWrittenEventArgs e)
        {
            string watchLog = "System";
            string logName = watchLog;
            int e1 = 0;
            EventLog log = new EventLog(logName);
            e1 = log.Entries.Count - 1; // last entry
            Console.WriteLine(log.Entries[e1].Message);
            log.Close();  // close log
        }